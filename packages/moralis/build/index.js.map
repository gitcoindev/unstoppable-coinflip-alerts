{"version":3,"file":"index.js","sources":["../../../node_modules/events/events.js","../src/Events.ts","../src/Utils.ts","../src/UAuthMoralisConnector.ts","../src/MoralisRpcs.ts","../src/AbstractWeb3Connector.ts"],"sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","export const EthereumEvents = Object.freeze({\n  CONNECT: 'connect',\n  DISCONNECT: 'disconnect',\n  CHAIN_CHANGED: 'chainChanged',\n  ACCOUNTS_CHANGED: 'accountsChanged',\n})\n\nexport const ConnectorEvents = Object.freeze({\n  CONNECT: 'connect',\n  DISCONNECT: 'disconnect',\n  CHAIN_CHANGED: 'chainChanged',\n  ACCOUNT_CHANGED: 'accountChanged',\n})\n","/**\n * Converts chainId to a hex if it is a number\n */\nfunction verifyChainId(chainId) {\n  if (typeof chainId === 'number') chainId = fromDecimalToHex(chainId)\n  return chainId\n}\n\nfunction fromDecimalToHex(number) {\n  if (typeof number !== 'number') throw 'The input provided should be a number'\n  return `0x${number.toString(16)}`\n}\n\nexport default verifyChainId\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\nimport type UAuth from '@uauth/js'\nimport type {UAuthConstructorOptions, UserInfo} from '@uauth/js'\n\nimport AbstractWeb3Connector from './AbstractWeb3Connector'\n\nimport {getMoralisRpcs} from './MoralisRpcs'\nimport verifyChainId from './Utils'\n\ninterface Window {\n  WalletConnectProvider: any\n  ethereum?: any\n  Buffer?: any\n}\n\n// eslint-disable-next-line no-var\ndeclare var window: Window\n\nexport interface UAuthMoralisConnectors {\n  injected: any | undefined\n  walletconnect: any | undefined\n}\n\nexport interface UAuthConnectorOptions\n  extends Partial<UAuthConstructorOptions> {\n  uauth?: UAuth\n  connectors: UAuthMoralisConnectors\n  shouldLoginWithRedirect?: boolean\n}\n\nclass UAuthMoralisConnector extends AbstractWeb3Connector {\n  type = 'uauth'\n\n  static UAuth: typeof UAuth\n  static options: UAuthConnectorOptions\n\n  public static async importUAuth(): Promise<void> {\n    if (UAuthMoralisConnector.UAuth == null) {\n      UAuthMoralisConnector.UAuth = (await import('@uauth/js').then(\n        m => m?.default ?? m,\n      )) as typeof UAuth\n    }\n  }\n\n  public static setUAuthOptions(_options: UAuthConnectorOptions) {\n    UAuthMoralisConnector.options = _options\n  }\n\n  private _subConnector?: any | undefined = null\n  private _uauth?: UAuth\n\n  verifyEthereumBrowser() {\n    if (!window.ethereum) {\n      throw new Error('Non ethereum enabled browser')\n    }\n  }\n  public async activate({\n    // @ts-ignore\n    chainId: providedChainId,\n    // @ts-ignore\n    mobileLinks,\n  } = {}): Promise<any> {\n    // cleanup old data\n    try {\n      await this.deactivate()\n      this.uauth.logout({rpInitiatedLogout: false})\n    } catch (error) {\n      // Do nothing\n    }\n    await UAuthMoralisConnector.importUAuth()\n\n    let user: UserInfo\n    try {\n      user = await this.uauth.user()\n    } catch (error) {\n      if (!this.uauth.fallbackLoginOptions.scope.includes('wallet')) {\n        throw new Error(\n          'Must request the \"wallet\" scope for connector to work.',\n        )\n      }\n\n      if (UAuthMoralisConnector.options.shouldLoginWithRedirect) {\n        await this.uauth.login()\n\n        // NOTE: We don't want to throw because the page will take some time to\n        // load the redirect page.\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        await new Promise<void>(() => {})\n        // We need to throw here otherwise typescript won't know that user isn't null.\n        throw new Error('Should never get here.')\n      } else {\n        await this.uauth.loginWithPopup()\n        user = await this.uauth.user()\n      }\n    }\n\n    if (user.wallet_type_hint == null) {\n      throw new Error('no wallet type present')\n    }\n\n    if (['web3', 'injected'].includes(user.wallet_type_hint)) {\n      this._subConnector = 'web3'\n      this.verifyEthereumBrowser()\n      const [accounts, chainId] = await Promise.all([\n        window.ethereum.request({\n          method: 'eth_requestAccounts',\n        }),\n        window.ethereum.request({method: 'eth_chainId'}),\n      ])\n      console.log(accounts)\n      const account = accounts[0] ? accounts[0].toLowerCase() : null\n\n      const verfiedChainId = verifyChainId(chainId)\n\n      const provider = window.ethereum\n      this.chainId = verfiedChainId\n      this.account = account\n      this.provider = provider\n    } else if (user.wallet_type_hint === 'walletconnect') {\n      this._subConnector = 'walletconnect'\n      UAuthMoralisConnector.options.connectors.walletconnect\n      let WalletConnectProvider\n      const config = {\n        rpc: getMoralisRpcs('WalletConnect'),\n        chainId: providedChainId,\n        qrcodeModalOptions: {\n          mobileLinks,\n        },\n      }\n\n      try {\n        window.Buffer = window.Buffer || (await import('buffer'))?.Buffer\n        // eslint-disable-next-line @typescript-eslint/no-var-requires\n        WalletConnectProvider = (await import('@walletconnect/web3-provider'))\n          ?.default\n      } catch (error) {\n        // Do nothing. User might not need walletconnect\n        console.log(error)\n      }\n\n      if (!WalletConnectProvider) {\n        throw new Error(\n          'Cannot enable WalletConnect: dependency \"@walletconnect/web3-provider\" is missing',\n        )\n      }\n\n      if (typeof WalletConnectProvider === 'function') {\n        this.provider = new WalletConnectProvider(config)\n      } else {\n        this.provider = new window.WalletConnectProvider(config)\n      }\n      if (!this.provider) {\n        throw new Error(\n          'Could not connect with WalletConnect, error in connecting to provider',\n        )\n      }\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      const accounts = await this.provider.enable()\n      this.account = accounts[0].toLowerCase()\n      const {chainId} = this.provider\n      const verifiedChainId = verifyChainId(chainId)\n      this.chainId = verifiedChainId\n      this.subscribeToEvents(this.provider)\n    } else {\n      throw new Error('Connector not supported')\n    }\n\n    return {\n      provider: this.provider,\n      account: this.account,\n      chainId: this.chainId,\n    }\n  }\n\n  public async deactivate() {\n    this.account = null\n    this.chainId = null\n    if (this._subConnector === 'walletconnect') {\n      this.unsubscribeToEvents(this.provider)\n      if (this.provider) {\n        try {\n          // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n          // @ts-ignore\n          await this.provider.disconnect()\n        } catch (error) {\n          console.log(error)\n        }\n      }\n    }\n    if (this._subConnector) {\n      if (!this.uauth.fallbackLogoutOptions.rpInitiatedLogout) {\n        this.uauth.logout({rpInitiatedLogout: false})\n      }\n    }\n  }\n\n  public get uauth(): UAuth {\n    const {uauth, ...uauthOptions} = UAuthMoralisConnector.options\n\n    if (uauth) {\n      return uauth\n    }\n\n    if (this._uauth) {\n      return this._uauth\n    }\n\n    if (UAuthMoralisConnector.UAuth == null) {\n      throw new Error('Must import UAuth before constructing a UAuth Object')\n    }\n\n    if (!uauthOptions.clientID || !uauthOptions.redirectUri) {\n      throw new Error('Incomplete constructor options')\n    }\n\n    this._uauth = new UAuthMoralisConnector.UAuth(\n      uauthOptions as UAuthConstructorOptions,\n    )\n\n    return this._uauth\n  }\n}\n\nexport default UAuthMoralisConnector\n","export const getMoralisRpcs = speedyNodeKey => ({\n  1: `https://speedy-nodes-nyc.moralis.io/${speedyNodeKey}/eth/mainnet`,\n  3: `https://speedy-nodes-nyc.moralis.io/${speedyNodeKey}/eth/ropsten`,\n  4: `https://speedy-nodes-nyc.moralis.io/${speedyNodeKey}/eth/rinkeby`,\n  5: `https://speedy-nodes-nyc.moralis.io/${speedyNodeKey}/eth/goerli`,\n  42: `https://speedy-nodes-nyc.moralis.io/${speedyNodeKey}/eth/kovan`,\n  137: `https://speedy-nodes-nyc.moralis.io/${speedyNodeKey}/polygon/mainnet`,\n  80001: `https://speedy-nodes-nyc.moralis.io/${speedyNodeKey}/polygon/mumbai`,\n  56: `https://speedy-nodes-nyc.moralis.io/${speedyNodeKey}/bsc/mainnet`,\n  97: `https://speedy-nodes-nyc.moralis.io/${speedyNodeKey}/bsc/testnet`,\n  43114: `https://speedy-nodes-nyc.moralis.io/${speedyNodeKey}/avalanche/mainnet`,\n  43113: `https://speedy-nodes-nyc.moralis.io/${speedyNodeKey}/avalanche/testnet`,\n  250: `https://speedy-nodes-nyc.moralis.io/${speedyNodeKey}/fantom/mainnet`,\n})\n","import {EventEmitter} from 'events';\nimport {EthereumEvents, ConnectorEvents} from './Events'\n\nclass AbstractWeb3Connector extends EventEmitter {\n  type = 'abstract'\n  network = 'evm'\n  account = null\n  chainId = null\n  provider = null\n\n  constructor() {\n    super()\n    this.handleAccountsChanged = this.handleAccountsChanged.bind(this)\n    this.handleChainChanged = this.handleChainChanged.bind(this)\n    this.handleConnect = this.handleConnect.bind(this)\n    this.handleDisconnect = this.handleDisconnect.bind(this)\n  }\n\n  subscribeToEvents(provider) {\n    if (provider) this.provider = provider\n    if (provider && provider.on) {\n      provider.on(EthereumEvents.CHAIN_CHANGED, this.handleChainChanged)\n      provider.on(EthereumEvents.ACCOUNTS_CHANGED, this.handleAccountsChanged)\n      provider.on(EthereumEvents.CONNECT, this.handleConnect)\n      provider.on(EthereumEvents.DISCONNECT, this.handleDisconnect)\n    }\n  }\n\n  unsubscribeToEvents(provider) {\n    if (provider && provider.removeListener) {\n      provider.removeListener(\n        EthereumEvents.CHAIN_CHANGED,\n        this.handleChainChanged,\n      )\n      provider.removeListener(\n        EthereumEvents.ACCOUNTS_CHANGED,\n        this.handleAccountsChanged,\n      )\n      provider.removeListener(EthereumEvents.CONNECT, this.handleConnect)\n      provider.removeListener(EthereumEvents.DISCONNECT, this.handleDisconnect)\n    }\n  }\n\n  async activate(): Promise<unknown> {\n    throw new Error('Not implemented: activate()')\n  }\n\n  /**\n   * Updates account and emit event, on EIP-1193 accountsChanged events\n   */\n  handleAccountsChanged(accounts) {\n    const account = accounts && accounts[0] ? accounts[0].toLowerCase() : null\n    this.account = account\n    this.emit(ConnectorEvents.ACCOUNT_CHANGED, account)\n  }\n\n  /**\n   * Updates chainId and emit event, on EIP-1193 accountsChanged events\n   */\n  handleChainChanged(chainId) {\n    this.chainId = chainId\n    this.emit(ConnectorEvents.CHAIN_CHANGED, chainId)\n  }\n\n  handleConnect(connectInfo) {\n    this.emit(ConnectorEvents.CONNECT, connectInfo)\n  }\n\n  handleDisconnect(error) {\n    this.emit(ConnectorEvents.DISCONNECT, error)\n  }\n}\n\nexport default AbstractWeb3Connector\n"],"names":["ReflectOwnKeys","R","Reflect","apply","target","receiver","args","Function","prototype","call","ownKeys","Object","getOwnPropertySymbols","getOwnPropertyNames","concat","Number","isNaN","value","EventEmitter","init","this","events","_events","undefined","_eventsCount","_maxListeners","checkListener","listener","TypeError","_getMaxListeners","that","defaultMaxListeners","_addListener","type","prepend","m","existing","create","newListener","emit","unshift","push","length","warned","Error","String","w","name","emitter","count","console","warn","onceWrapper","fired","removeListener","wrapFn","arguments","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","arr","ret","Array","i","unwrapListeners","arrayClone","listenerCount","n","copy","eventTargetAgnosticAddListener","flags","on","once","addEventListener","arg","removeEventListener","wrapListener","defineProperty","enumerable","get","set","NumberIsNaN","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","err","message","context","handler","ReflectApply","len","listeners","addListener","prependListener","prependOnceListener","off","list","position","originalListener","shift","index","pop","spliceOne","removeAllListeners","key","keys","rawListeners","eventNames","Promise","resolve","reject","errorListener","resolver","slice","addErrorHandlerIfEventEmitter","freeze","CONNECT","DISCONNECT","CHAIN_CHANGED","ACCOUNTS_CHANGED","ConnectorEvents","ACCOUNT_CHANGED","verifyChainId","chainId","number","toString","fromDecimalToHex","UAuthMoralisConnector","importUAuth","_subConnector","_uauth","UAuth","then","default","_m$default","_import$then","_temp2","setUAuthOptions","_options","options","verifyEthereumBrowser","window","ethereum","activate","providedChainId","mobileLinks","_temp15","user","_temp9","_result","_temp7","_result3","provider","_this3","account","wallet_type_hint","includes","all","request","method","accounts","_ref","log","toLowerCase","verfiedChainId","_WalletConnectProvider","WalletConnectProvider","config","enable","verifiedChainId","subscribeToEvents","_config","rpc","speedyNodeKey","qrcodeModalOptions","Buffer","_window$Buffer","_import","_interopNamespace","require","_import2","_temp3","_temp13","_temp12","_temp6","uauth","fallbackLoginOptions","scope","shouldLoginWithRedirect","login","loginWithPopup","_temp16","_catch","deactivate","logout","rpInitiatedLogout","_temp21","_this5","fallbackLogoutOptions","_temp22","unsubscribeToEvents","_temp23","_temp24","disconnect","_UAuthMoralisConnecto","uauthOptions","clientID","redirectUri","_EventEmitter","AbstractWeb3Connector","_this","network","handleAccountsChanged","handleChainChanged","_assertThisInitialized","handleConnect","handleDisconnect","_inheritsLoose","EthereumEvents","connectInfo"],"mappings":"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"}